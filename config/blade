# -*- Mode:makefile-gmake; tab-width:8 -*-

# blade is a hyperthreaded quad-core-- use it.
MAKEJOBS ?= -j8

PFK_BUILD_pfkbak=1
PFK_BUILD_pfksh=1
PFK_BUILD_syslog=1
PFK_BUILD_checksize=1
PFK_BUILD_treescan=1
PFK_BUILD_sudo=1
PFK_BUILD_ampfk=1
PFK_BUILD_pfkscript=1
PFK_BUILD_sessionmgr=1
PFK_BUILD_xrandr=1
PFK_BUILD_states=1
PFK_BUILD_bglog=1
PFK_BUILD_he=1
PFK_BUILD_libpfkfb=1
PFK_BUILD_diskloader=1
PFK_BUILD_pfkstat=1
PFK_BUILD_deduplifier=1
PFK_BUILD_libwas=1
PFK_BUILD_libpfkthread=1
PFK_BUILD_wsproxy=1
PFK_BUILD_xlock=1
PFK_BUILD_fonts=1
PFK_BUILD_pfktop=1
PFK_BUILD_spinner=1
PFK_BUILD_hilite=1
PFK_BUILD_do_fft=1
PFK_BUILD_protossl=1
PFK_BUILD_i3=1
PFK_BUILD_slowlink=1

KSHRC_LOCAL = kshrc.local.blade
PROTOC_PATH = /bin/protoc
PROTOBUF_INC =
PROTOBUF_LIB = -lprotobuf
MBEDTLS_INCS =
MBEDTLS_LIBS = -lmbedtls -lmbedx509 -lmbedcrypto

PFK_CONFIG_HAVE_NCURSES_CURSES_H= 1
PFK_CONFIG_HAVE_NCURSES_H= 0
PFK_CONFIG_HAVE_CURSES_H= 0
PFK_CONFIG_HAVE_LSEEK64= 1
PFK_CONFIG_HAVE_LSEEK= 1
PFK_CONFIG_HAVE_STRINGS_H = 1
PFK_CONFIG_HAVE_STRING_H = 1
PFK_CONFIG_HAVE_DIRENT_H = 1
PFK_CONFIG_HAVE_STRUCT_DIRENT_D_TYPE = 1
PFK_CONFIG_HAVE_STRUCT_STAT_ST_RDEV = 1
PFK_CONFIG_HAVE_STRUCT_STAT_ST_BLOCKS = 1
PFK_CONFIG_HAVE_STRUCT_STAT_ST_BLKSIZE = 1
PFK_CONFIG_HAVE_STRUCT_STAT_ST_FLAGS = 0
PFK_CONFIG_HAVE_STRUCT_STAT_ST_GEN = 0
PFK_CONFIG_HAVE_INET_ATON = 1
PFK_CONFIG_HAVE_INTTYPES_H = 1
PFK_CONFIG_HAVE_PTHREAD_MUTEX_CONSISTENT_NP = 1
PFK_CONFIG_HAVE_PTHREAD_MUTEXATTR_SETPSHARED = 1
PFK_CONFIG_HAVE_PTHREAD_MUTEXATTR_SETROBUST_NP = 1
PFK_CONFIG_HAVE_PTHREAD_CONDATTR_SETPSHARED = 1
PFK_CONFIG_HAVE_MBEDTLS_NET_H = 1
PFK_CONFIG_HAVE_MBEDTLS_NET_SOCKETS_H = 0
PFK_CONFIG_HAVE_MBEDTLS_RET_APIS = 0

SCRIPT_FILES_EXTRA = mhssh mhscp

CONTRIB_PROGS= cscope-pfk ctwm-pfk rxvt-pfk fluxbox-pfk fish-pfk mscgen-pfk

export PFK_CONFIG_flubox_xinerama=enable
export PFK_CONFIG_contrib_makejobs=-j9

# turn off color compile output so emacs compile buffer can work;
# need a more generic solution for compiling in emacs compile buffer.
# CXXFLAGS = -fno-diagnostics-color
