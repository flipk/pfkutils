
TARG= libviewtags.a
SRCS= main.c tags.c xmalloc.c line_parse.c display.c input.c
HDRS= main.h
OBJS= $(SRCS:.c=.o)

all: $(TARG)

$(TARG): $(OBJS)
	ar cr $(TARG) $(OBJS)

.c.o:
	gcc -O3 -c $*.c

depend: Makefile.in $(SRCS) $(HDRS)
	awk 'BEGIN { copy=1; } { if ( copy ) print } /^#DEPENDENCIES/ { copy=0; }' < Makefile > x
	gcc -M $(SRCS) >> x
	mv x Makefile

clean:
	rm -f $(TARG) $(OBJS) Makefile

#DEPENDENCIES
